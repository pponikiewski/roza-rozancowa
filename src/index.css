@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --font-sans: "Inter", "system-ui", "-apple-system", "Segoe UI", "sans-serif";
    --background: 0 0% 100%;
    --foreground: 240 10% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 240 10% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 240 10% 3.9%;
    --primary: 346.8 77.2% 49.8%;
    --primary-foreground: 355.7 100% 97.3%;
    --secondary: 240 4.8% 95.9%;
    --secondary-foreground: 240 5.9% 10%;
    --muted: 240 4.8% 95.9%;
    --muted-foreground: 240 3.8% 46.1%;
    --accent: 240 4.8% 95.9%;
    --accent-foreground: 240 5.9% 10%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 5.9% 90%;
    --input: 240 5.9% 90%;
    --ring: 346.8 77.2% 49.8%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 20 14.3% 4.1%;
    --foreground: 0 0% 95%;
    --card: 24 9.8% 10%;
    --card-foreground: 0 0% 95%;
    --popover: 0 0% 9%;
    --popover-foreground: 0 0% 95%;
    --primary: 346.8 77.2% 49.8%;
    --primary-foreground: 355.7 100% 97.3%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 15%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 12 6.5% 15.1%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 85.7% 97.3%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 346.8 77.2% 49.8%;
  }

  .senior-mode {
    font-size: 125%;
    /* Zwiększenie bazowego rozmiaru czcionki */
    --radius: 0.75rem;
    /* Większe zaokrąglenia */
  }

  .senior-mode body {
    line-height: 1.8;
    /* Większy odstęp między liniami */
  }

  html.light.ultra-senior-mode {
    /* High contrast colors - Custom Senior Light Theme */
    --background: 60 11% 96.5%;
    --foreground: 0 0% 10%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 10%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 10%;
    --primary: 211 100% 37%;
    --primary-foreground: 0 0% 100%;
    --secondary: 60 9% 94.5%;
    --secondary-foreground: 0 0% 10%;
    --muted: 60 9% 94.5%;
    --muted-foreground: 0 0% 29%;
    --accent: 60 9% 94.5%;
    --accent-foreground: 0 0% 10%;
    --destructive: 0 58% 46%;
    --destructive-foreground: 0 0% 100%;
    --border: 0 0% 82%;
    --input: 0 0% 82%;
    --ring: 211 100% 37%;
    --radius: 0.5rem;
  }

  html.dark.ultra-senior-mode {
    /* High contrast colors - Custom Senior Dark Theme */
    --background: 216 8% 12%;
    --foreground: 0 0% 98%;
    --card: 223 8% 18%;
    --card-foreground: 0 0% 98%;
    --popover: 223 8% 18%;
    --popover-foreground: 0 0% 98%;
    --primary: 211 100% 65%;
    --primary-foreground: 0 0% 0%;
    --secondary: 220 7% 16%;
    --secondary-foreground: 0 0% 98%;
    --muted: 220 7% 16%;
    --muted-foreground: 0 0% 78%;
    --accent: 220 7% 16%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 100% 71%;
    --destructive-foreground: 0 0% 0%;
    --border: 218 6% 25%;
    --input: 218 6% 25%;
    --ring: 211 100% 65%;
    --radius: 0.5rem;
  }

  /* Force high contrast on elements with hardcoded backgrounds in Ultra Mode */
  html.ultra-senior-mode [class*="bg-gradient-"],
  html.ultra-senior-mode [class*="bg-rose-"],
  html.ultra-senior-mode [class*="bg-amber-"],
  html.ultra-senior-mode [class*="bg-slate-"],
  html.ultra-senior-mode [class*="bg-gray-"],
  html.ultra-senior-mode [class*="bg-zinc-"],
  html.ultra-senior-mode [class*="bg-neutral-"],
  html.ultra-senior-mode [class*="bg-stone-"] {
    background-image: none !important;
    background-color: hsl(var(--card)) !important;
    color: hsl(var(--foreground)) !important;
    border-color: hsl(var(--border)) !important;
  }

  html.ultra-senior-mode img {
    filter: contrast(1.2) brightness(1.1);
    /* Enhance image visibility */
  }

  /* Dodatkowe zasady dostępności dla Ultra Senior Mode */
  html.ultra-senior-mode body {
    font-size: 20px;
    /* Minimalna wielkość fontu: 18-20px */
    font-weight: 500;
    /* Brak cienkich fontów - minimum medium */
    line-height: 2;
    /* Duże odstępy między liniami */
  }

  /* Enforce minimum font size for small text utilities in Ultra Mode */
  html.ultra-senior-mode .text-xs,
  html.ultra-senior-mode .text-\[10px\],
  html.ultra-senior-mode .text-sm {
    font-size: 1rem !important;
    /* Minimum 16px */
    line-height: 1.6 !important;
  }

  html.ultra-senior-mode a {
    text-decoration: underline !important;
    /* Podkreślane linki */
    text-underline-offset: 4px;
    font-weight: 600;
  }

  html.ultra-senior-mode button,
  html.ultra-senior-mode [role="button"],
  html.ultra-senior-mode input,
  html.ultra-senior-mode select,
  html.ultra-senior-mode textarea {
    min-width: 44px;
    /* Przyciski minimum 44x44 px */
    min-height: 44px;
  }

  html.ultra-senior-mode strong,
  html.ultra-senior-mode b,
  html.ultra-senior-mode h1,
  html.ultra-senior-mode h2,
  html.ultra-senior-mode h3,
  html.ultra-senior-mode h4,
  html.ultra-senior-mode h5,
  html.ultra-senior-mode h6 {
    font-weight: 700;
    /* Zachowanie hierarchii dla nagłówków */
  }

  /* Zwiększenie odstępów w kontenerach */
  html.ultra-senior-mode .space-y-2>*,
  html.ultra-senior-mode .space-y-4>* {
    gap: 1.5rem;
    /* Większe odstępy między elementami */
  }

  /* Ultra Senior Mode Header Layout Fixes */
  html.ultra-senior-mode .app-header {
    flex-wrap: wrap !important;
    height: auto !important;
    padding-bottom: 1rem !important;
    gap: 1rem !important;
  }

  html.ultra-senior-mode .app-header .header-user-info {
    flex-basis: 100% !important;
    width: 100% !important;
    margin-bottom: 0.5rem !important;
  }

  @media (max-width: 768px) {

    /* Login Page Mobile Fix (All Modes) */
    .login-container {
      justify-content: flex-start !important;
      padding-top: 2rem !important;
    }

    .login-container .header-controls {
      position: relative !important;
      top: auto !important;
      right: auto !important;
      width: 100% !important;
      justify-content: flex-end !important;
      margin-bottom: 3rem !important;
      /* Duży odstęp od loga */
    }

    /* Fix Dialog Margins in Senior & Ultra Mode on Mobile */
    html.senior-mode [role="dialog"] {
      width: calc(100% - 2rem) !important;
      max-width: calc(100% - 2rem) !important;
      border-radius: 0.75rem !important;
      border: 2px solid hsl(var(--border)) !important;
      /* Restore border if removed */
      overflow-x: hidden !important;
      word-break: break-word !important;
      overflow-wrap: anywhere !important;
    }

    /* Stack grid columns in dialogs for Senior/Ultra Mode to prevent overflow */
    html.senior-mode [role="dialog"] .grid-cols-2 {
      grid-template-columns: 1fr !important;
    }

    /* Stack flex controls vertically in dialogs for better touch targets and fit */
    html.senior-mode [role="dialog"] .space-y-4 .flex.gap-2 {
      flex-direction: column !important;
      align-items: stretch !important;
    }
  }

  html.ultra-senior-mode .app-header .header-controls {
    width: 100% !important;
    justify-content: flex-end !important;
    gap: 1rem !important;
  }

  html.ultra-senior-mode .app-header .header-user-info img {
    width: 3rem !important;
    height: 3rem !important;
  }

  /* Fix Dialog Close Button in Ultra Mode */
  html.ultra-senior-mode .ultra-senior-close {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    padding: 0 !important;
    top: 1rem !important;
    /* Align with header text baseline approx */
    right: 1rem !important;
    width: 2.25rem !important;
    height: 2.25rem !important;
    background-color: hsl(var(--destructive)) !important;
    color: hsl(var(--destructive-foreground)) !important;
    opacity: 1 !important;
    border: 2px solid hsl(var(--border));
    z-index: 60;
    border-radius: 0.5rem;
    /* Make it slightly rounded square */
  }

  html.ultra-senior-mode .ultra-senior-close svg {
    width: 1.25rem !important;
    height: 1.25rem !important;
  }

  /* Ensure Dialog Header has space for the large close button and align text left */
  html.ultra-senior-mode [role="dialog"] .text-center {
    text-align: left !important;
  }

  html.ultra-senior-mode [role="dialog"] h2 {
    padding-right: 3rem !important;
    /* More space for the bigger button */
    line-height: 1.3 !important;
    margin-top: 0.25rem !important;
    /* Push text down slightly to align with button center if needed */
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans;
  }

  /* Override browser autofill styles to prevent background color change */
  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus,
  input:-webkit-autofill:active {
    -webkit-text-fill-color: hsl(var(--foreground));
    transition: background-color 5000s ease-in-out 0s;
  }
}